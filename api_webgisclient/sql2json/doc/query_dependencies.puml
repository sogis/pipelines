@startuml

package "QGIS Server" {
    package "WFS" {
        [wfs_layer.sql]
    }
    
    package "WMS" {
        [root_layer.sql]
        [root_layer_print.sql]
        [layer.sql]
        [layer_print.sql]
        

        [trafo_wms_layer_v]
        [trafo_wms_pg_table_v]
        [trafo_wms_tableview_attribute_v]
        [trafo_wms_dp_common_v]
        [trafo_wms_outtypes_v]
        [trafo_wms_rootlayer_v]
        
        root_layer.sql --> trafo_wms_rootlayer_v
        root_layer_print.sql --> trafo_wms_rootlayer_v
        
        trafo_wms_rootlayer_v --> trafo_wms_dp_common_v
        trafo_wms_rootlayer_v --> trafo_wms_outtypes_v
        
        layer.sql --> trafo_wms_layer_v
        layer_print.sql --> trafo_wms_layer_v
        
        trafo_wms_layer_v --> trafo_wms_pg_table_v
        trafo_wms_layer_v --> trafo_wms_tableview_attribute_v
        trafo_wms_layer_v --> trafo_wms_dp_common_v
        trafo_wms_layer_v --> trafo_wms_outtypes_v
    }
}

@enduml